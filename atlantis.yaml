# version: 3
version: 3

projects:
- name: luminor-test
  dir: .
  workflow: luminor

workflows:
  luminor:
    plan:
      steps:
      - run: curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip" && unzip awscliv2.zip && ./aws/install -i /usr/local/aws-cli -b /usr/local/bin
      - init
      - plan:
          extra_args: ["-var-file","luminor_eks.tfvars"]
    apply:
      steps:
      - apply:
          extra_args: ["-var-file","luminor_eks.tfvars"]